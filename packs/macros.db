{"name":"Mighty Morphin Menu","type":"script","author":"tCEwvo1Tq58EKcH1","img":"systems/pf1/icons/spells/wind-grasp-eerie-3.jpg","scope":"global","command":"/** \n * This macro provides examples for the commands available in the Mighty Morphin Mod.\n * \n * All spells accept an optional object parameter\n *  - All spells accept a property durationLevel which sets the duration of the buff based on the duration of the spell per minute (ex - durationLevel: 3 sets 3 minute duration for a spell with 1 min/level)\n *  - Spells with various levels accept a property of the number of the spell 'rank' (ex - level: 2 on beast shape is beast shape ii)\n *  - Spells with various levels accept a property for the source the effect is coming from (such as 'Wild Shape')\n *  - Frightful Aspect can be passed a caster level directly with the property cl\n */\n\nlet d = new Dialog({\n  title: 'Choose Buff',\n  content: '',\n  buttons: {\n    enlarge: { label: 'Enlarge Person', callback: () => game.mightyMorphin.enlargePerson() },\n    reduce: { label: 'Reduce Person', callback: () => game.mightyMorphin.reducePerson() },\n    animal: { label: 'Animal Growth', callback: () => game.mightyMorphin.animalGrowth() },\n    legendary: { label: 'Legendary Proportions', callback: () => game.mightyMorphin.legendaryProportions() },\n    frightful: { label: 'Frightful Aspect', callback: () => {game.mightyMorphin.frightfulAspect({ cl: 15 })} },\n    bs1: { label: 'Beast Shape I', callback: () => {game.mightyMorphin.beastShape({ level: 1, duration: 2 })} },\n    bs2: { label: 'Beast Shape II', callback: () => {game.mightyMorphin.beastShape({ level: 2 })} },\n    bs3: { label: 'Beast Shape III', callback: () => game.mightyMorphin.beastShape({ level: 3 }) },\n    bs4: { label: 'Beast Shape IV', callback: () => game.mightyMorphin.beastShape({ level: 4 }) },\n    eb1: { label: 'Elemental Body I', callback: () => game.mightyMorphin.elementalBody({ level: 1 }) },\n    eb2: { label: 'Elemental Body II', callback: () => game.mightyMorphin.elementalBody({ level: 2 }) },\n    eb3: { label: 'Elemental Body III', callback: () => game.mightyMorphin.elementalBody({ level: 3 }) },\n    eb4: { label: 'Elemental Body IV', callback: () => game.mightyMorphin.elementalBody({ level: 4 }) },\n    ps1: { label: 'Plant Shape I', callback: () => game.mightyMorphin.plantShape({ level: 1 }) },\n    ps2: { label: 'Plant Shape II', callback: () => game.mightyMorphin.plantShape({ level: 2 }) },\n    ps3: { label: 'Plant Shape III', callback: () => game.mightyMorphin.plantShape({ level: 3 }) },\n    ws3: { label: 'Wild Shape Beast I', callback: () => game.mightyMorphin.beastShape({ level: 1, duration: getDruidLevel(), source: 'Wild Shape' }) },\n    revert: { label: 'Revert Changes', callback: () => game.mightyMorphin.revert() }\n  }\n}).render(true);\n\nfunction getDruidLevel() {\n  const druidClass = actor.items.find(o => o.name === \"Druid\" && o.type === \"class\");\n  if (!!druidClass) {\n    return druidClass.level;\n  }\n  else {\n    d.close();\n    throw new Error(actor.name + \" does not have a druid level.\");\n  }\n}","folder":null,"sort":0,"permission":{"default":0,"tCEwvo1Tq58EKcH1":3},"flags":{"advanced-macros":{"runAsGM":false},"combat-utility-belt":{"macroTrigger":""},"core":{"sourceId":"Macro.yWJ0Ox7y9x2kwOKU"}},"_id":"Awd4CRw70NZUWIKz"}
{"name":"Wild Shape","type":"script","author":"tCEwvo1Tq58EKcH1","img":"systems/pf1/icons/skills/green_21.jpg","scope":"global","command":"/**\n * Example macro to provide a menu for Wild Shape\n */\n\nif (!actor) {\n  ui.notifications.warn('Please choose an actor to Wild Shape');\n}\nelse {\n  let druidLevel = actor.items.find(o => o.type === \"class\" && o.name === \"Druid\")?.data.data.level;\n  let source = 'Wild Shape';\n  \n  if (!druidLevel) {\n    ui.notifications.warn(`${actor.name} does not have a druid level`);\n  }\n  else {\n    let buttons = {};\n    \n    if (druidLevel >= 12) {\n      buttons = {\n        bs: { label: 'Animal', callback: () => game.mightyMorphin.beastShape({ level: 3, durationLevel: druidLevel, source: source }) },\n        eb: { label: 'Elemental', callback: () => game.mightyMorphin.elementalBody({ level: 4, durationLevel: druidLevel, source: source }) },\n        ps: { label: 'Plant', callback: () => game.mightyMorphin.plantShape({ level: 3, durationLevel: druidLevel, source: source }) },\n        revert: { label: 'Revert Changes', callback: () => game.mightyMorphin.revert() }\n      };\n    }\n    else if (druidLevel >= 10) {\n      buttons = {\n        bs: { label: 'Animal', callback: () => game.mightyMorphin.beastShape({ level: 3, durationLevel: druidLevel, source: source }) },\n        eb: { label: 'Elemental', callback: () => game.mightyMorphin.elementalBody({ level: 3, durationLevel: druidLevel, source: source }) },\n        ps: { label: 'Plant', callback: () => game.mightyMorphin.plantShape({ level: 2, durationLevel: druidLevel, source: source }) },\n        revert: { label: 'Revert Changes', callback: () => game.mightyMorphin.revert() }\n      };\n    }\n    else if (druidLevel >= 8) {\n      buttons = {\n        bs: { label: 'Animal', callback: () => game.mightyMorphin.beastShape({ level: 3, durationLevel: druidLevel, source: source }) },\n        eb: { label: 'Elemental', callback: () => game.mightyMorphin.elementalBody({ level: 2, durationLevel: druidLevel, source: source }) },\n        ps: { label: 'Plant', callback: () => game.mightyMorphin.plantShape({ level: 1, durationLevel: druidLevel, source: source }) },\n        revert: { label: 'Revert Changes', callback: () => game.mightyMorphin.revert() }\n      };\n    }\n    else if (druidLevel >= 6) {\n      buttons = {\n        bs: { label: 'Animal', callback: () => game.mightyMorphin.beastShape({ level: 2, durationLevel: druidLevel, source: source }) },\n        eb: { label: 'Elemental', callback: () => game.mightyMorphin.elementalBody({ level: 1, durationLevel: druidLevel, source: source }) },\n        revert: { label: 'Revert Changes', callback: () => game.mightyMorphin.revert() }\n      };\n    }\n    else if (druidLevel >= 4) {\n      buttons = {\n        bs: { label: 'Animal', callback: () => game.mightyMorphin.beastShape({ level: 1, durationLevel: druidLevel, source: source }) },\n        revert: { label: 'Revert Changes', callback: () => game.mightyMorphin.revert() }\n      };\n    }\n    else {\n      ui.notifications.warn(`${actor.name} does not have a high enough level to Wild Shape`);\n    }\n    \n    if (!!buttons) {\n      let d = new Dialog({\n        title: 'Wild Shape',\n        content: 'Choose Form Type',\n        buttons: buttons\n      }).render(true);\n    }\n  }\n}","folder":null,"sort":0,"permission":{"default":0,"tCEwvo1Tq58EKcH1":3},"flags":{"core":{"sourceId":"Macro.UFM1ylNCsQlxX1H8"},"combat-utility-belt":{"macroTrigger":""}},"_id":"wu55HoQAgiRR5nFe"}